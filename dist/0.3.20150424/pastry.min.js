/*! pastry - v0.3.20150424 */!function(a){"use strict";function b(a,b,c){for(var d in a)b.call(c,a[d],d,a)}if(a=a||{},!a.pastry){var c,d,e,f={},g=Array,h=Function,i=Object,j=String,k="prototype",l="undefined",m=g[k],n=h[k],o=j[k],p=function(){},q={}.toString,r=m.slice,s=function(a){return r.call(a,1)},t=function(a,b,c){return a.apply(b,s(c))},u=function(a,b){return q.call(b)==="[object "+a+"]"},v=f.isArrayLike=function(a){return"object"==typeof a&&isFinite(a.length)},w=f.isFunction=function(a){return u("Function",a)},x=f.isNumber=function(a){return u("Number",a)},y=f.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},z=f.isPlainObject=function(a){return u("Object",a)},A=f.toArray=function(a){return v(a)?r.call(a):[]};f.index=function(a){return function(b,c,d){var e,f=b.length>>>0;if(0===f)return-1;if(d?0>d&&(d=Math.max(0,b.length+d)):d=a?0:b.length,a){for(e=d;e<b.length;e++)if(b[e]===c)return e}else for(e=d;e>=0;e--)if(b[e]===c)return e;return-1}},f.indexOf=m.indexOf?function(a){return t(m.indexOf,a,arguments)}:f.index(!0),f.lastIndexOf=m.lastIndexOf?function(a){return t(m.lastIndexOf,a,arguments)}:f.index(),c=f.each=f.forEach=m.forEach?function(a,c,d){return v(a)?t(m.forEach,a,arguments):(z(a)&&b(a,c,d),a)}:function(a,c,d){if(v(a))for(var e=a.length,f=0;e>f;f++)f in a&&c.call(d,a[f],f,a);else z(a)&&b(a,c,d);return a},f.eachReverse=function(a,b,c){if(a)for(var d=a.length-1;d>-1;d-=1)b.call(c,a[d],d,a);return a},f.every=m.every?function(a){return t(m.every,a,arguments)}:function(a,b,c){var d;for(d=0;d<a.length;d++)if(!b.call(c,a[d],d,a))return!1;return!0},f.filter=m.filter?function(a){return t(m.filter,a,arguments)}:function(a,b,d){var e=[];return c(a,function(c,f){b.call(d,c,f,a)&&e.push(c)}),e},f.map=m.map?function(a){return t(m.map,a,arguments)}:function(a,b,d){var e=[];return c(a,function(c,f){e.push(b.call(d,c,f,a))}),e},f.some=m.some?function(a){return t(m.some,a,arguments)}:function(a,b,c){var d;for(d=0;d<a.length;d++)if(b.call(c,a[d],d,a))return!0;return!1},f.reduce=m.reduce?function(a){return t(m.reduce,a,arguments)}:function(a,b,c){var d,e;for(c&&(e=c),d=0;d<a.length;d++)e=e?b(e,a[d],d,a):a[d];return e},f.reduceRight=m.reduceRight?function(a){return t(m.reduceRight,a,arguments)}:function(a,b,c){var d,e;for(c&&(e=c),d=a.length-1;d>=0;d--)e=e?b(e,a[d],d,a):a[d];return e},f.trim=o.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s+|\s+$/g,"")},f.trimLeft=o.trimLeft?function(a){return a.trimLeft()}:function(a){return a.replace(/^\s+/g,"")},f.trimRight=o.trimRight?function(a){return a.trimRight()}:function(a){return a.replace(/\s+$/g,"")},f.lc=function(a){return(a+"").toLowerCase()},e=f.uc=function(a){return(a+"").toUpperCase()},f.hasSubString=function(a,b){return a.indexOf(b)>-1},f.capitalize=function(a){return a+="",e(a.charAt(0))+a.substr(1)},c(["Array","Arguments","Boolean","Date","Error","RegExp","String"],function(a){f["is"+a]=function(b){return u(a,b)}}),g.isArray&&(f.isArray=g.isArray),f.isNaN=function(a){return x(a)&&a!==+a},f.isFinite=function(a){return x(a)&&isFinite(a)&&!isNaN(a)},f.isUndefined=function(a){return void 0===a},f.isNull=function(a){return null===a},f.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=new Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e},f.flatten=function(a){for(var b=[],c=0,d=a.length;d>c;++c)v(a[c])?b=b.concat(a[c]):b[b.length]=a[c];return b},f.merge=function(a){return c(s(arguments),function(b){if(b)for(var c in b)q.call(b[c])!==q.call(a[c])?a[c]=b[c]:z(b[c])?(a[c]=a[c]||{},f.merge(a[c],b[c])):a[c]=b[c]}),a},f.extend=function(a){return c(s(arguments),function(b){if(b)for(var c in b)a[c]=b[c]}),a},f.remove=function(a,b,c){var d,e=a.length;return x(b)?(d=a.slice((c||b)+1||e),a.length=0>b?e+b:b,a.push.apply(a,d)):a},f.keys=i.keys?function(a){return i.keys(a)}:function(a){var b=[];return w(a)?c(a,function(a,c){c!==k&&b.push(c)}):c(a,function(a,c){b.push(c)}),b},f.invert=function(a){var b={};return c(a,function(a,c){b[a]=c}),b},f.values=function(a){var b=[];return c(a,function(a){b.push(a)}),b},f.hasKey=function(a,b){return a.hasOwnProperty(b)},d=f.hasValue=function(a,b){return f.indexOf(f.values(a),b)>-1},f.uniq=function(a){var b=[];return c(a,function(a){d(b,a)||b.push(a)}),b},f.union=function(){var a=[],b=A(arguments);return c(b,function(b){a.concat(b)}),f.uniq(a)},f.difference=function(a){var b=f.flatten(s(arguments),!0,!0,[]);return f.filter(a,function(a){return!d(b,a)})},f.intersect=function(a,b){var e=[];return c(a,function(a){d(b,a)&&e.push(a)}),e},f.destroy=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b];a.prototype=a.__proto__=null,a=null},f.clone=function(a){return y(a)?v(a)?A(a):f.extend({},a):a},f.bind=n.bind?function(a){return t(n.bind,a,arguments)}:function(b,c){if(w(c)&&w(b)){var d=A(arguments).slice(2),e=function(){},g=function(){return b.apply(this instanceof e&&c?this:c||a,d.concat(arguments))};return e[f]=b[f],g[f]=new e,g}},c(["info","log","warn"],function(a){f[e(a)]=typeof console===l?p:f.bind(console[a],console)}),f.ERROR=function(a){throw f.WARN(a),new Error(a)},f.getAny=function(a){var b,c;for(b=0;b<a.length;b++)try{c=a[b]();break}catch(d){}return c},f.uuid=function(a){return a=a||"",a+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8,d=c.toString(16);return d})},f.mixin=function(a,b){c(a,function(a,c){f[c]&&!b?f.ERROR("pastry."+c+" already exists"):f[c]=a})},f.setGLOBAL=function(b,c){typeof exports!==l&&(exports[b]=c),a[b]=c},c(["P","pastry","PASTRY"],function(a){f.setGLOBAL(a,f)}),typeof exports!==l&&typeof module!==l&&module.exports&&(module.exports=f)}}(this);