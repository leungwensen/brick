!function(a){"use strict";function b(b){b.apply(h,a.toArray(arguments).slice(1))}function c(b,c,d){k._post(function(a,b){b&&a&&(i[a]=b,f(a))},b,a.isFunction(d)?d.apply(h,c):d)}function d(a,b,c){if("require"===a)return function(a){return d(a,b)};var e;return c?e=i[a]:k._req(function(a){e=i[a]},a,b),e}function e(b,c){var d,e=c.length,f=function(a){return function(){a(),d()}};if(e)if(1===e)d=b;else{var g=e;d=function(){--g||b()}}else b();a.each(c,function(a){var b=j[a];b===!0?d():j[a]=a?f(b):d})}function f(a){var b=j[a];j[a]=!0,b&&b!==!0&&b()}function g(){var b=a.toArray(arguments).slice(),f=a.isString(b[0])?b.shift():h,g=b.length>1?b.shift():[],i=b[0];k._pre(function(b,f,g){e(function(){c(b,a.map(f,function(a){return d(a,b,1)}),g)},f)},f,g,i)}var h,i={},j={},k={_pre:b,_post:b,_req:b},l=g;g.amd={},g("pastry",a),g("amd",k),f("require"),a.setGLOBAL("define",g),a.setGLOBAL("require",l)}(this.pastry),define("amd/hooks",["amd","pastry"],function(a,b,c){"use strict";function d(a,b){var c=i[a]=i[a]||{},d=c[b]=c[b]||[];return d}function e(a,b,e){var f=d(a,h).concat(d(a,b[0]));!function g(a){f.length?f.shift().apply(c,a.concat(function(){g([].slice.call(arguments))})):e.apply(c,a)}(b)}function f(a,b,c){c||(c=b,b=h),d(a,b).push(c)}function g(a,c,e){b.isFunction(c)&&(e=c,c=h);for(var f=d(a,c||h),g=0;g<f.length;g++)f[g]!==e&&e||(f.splice(g,1),g-=1)}var h="**",i={};return b.extend(a,{_pre:function(a,c,d,f){e("define",[c,d,f],function(c,d,f){var g=[],h=d.length,i=h,j=function(b){return function(d){g[b]=d,--h||a(c,g,f)}};b.each(d,function(a,b){e("require",[a,c],j(b))}),i||a(c,g,f)})},_post:function(a,b,c){b?e("publish",[b,c],a):a(b,c)},_req:function(a,b,c){e("require",[b,c],a)}}),{on:f,off:g}}),define("amd/loader",["pastry","require","amd/hooks"],function(a,b,c){"use strict";function d(){}function e(a){var c,d;!b(a)&&(c=k[a])?(delete k[a],d=l[a],h(l,d),f(c,d)):n[a]=!0}function f(a,b){a[0]?g(a[0],function(){f(a.slice(1),b)}):b&&b()}function g(b,c){var e=m[b];if(!0===e?a.isFunction(c)&&c():c&&(m[b]=i(e,c)),!e){var f=document.getElementsByTagName("script")[0],g=f.parentNode,h=document.createElement("script");h.src=b,h.async=!0,h.onreadystatechange=h.onload=function(){(!h.readyState||/loaded|complete/.test(h.readyState))&&(h.onload=h.onreadystatechange=d,g.removeChild(h),(m[b]||d)(),m[b]=!0)},g.insertBefore(h,f)}}function h(b,c){a.each(b,function(a,d){a===c&&delete b[d]})}function i(b,c){return function(){a.isFunction(b)&&b(),c()}}function j(b,c,d){a.each(b,function(a){k[a]=c,l[a]=d,n[a]&&e(a)})}var k={},l={},m={},n={};return c.on("define",function(b,c,d,f){a.each(c,function(a){e(a)}),f(b,c,d)}),{map:j}}),define("amd/normalize",["pastry","amd/hooks"],function(a,b){"use strict";function c(b,c){if(!b)return b;var e,f=b.split("/"),g=[];return d.test(b)&&(e=c?c.split("/").slice(0,-1):[],f=e.concat(f)),a.each(f,function(a){switch(a){case".":break;case"..":if(g.length<1)throw"Module id, "+b+", with context, "+c+", has too many '..' components.";g.pop();break;default:g.push(a)}}),g.join("/")}var d=/^\.\.?\//;return b.on("define",function(b,d,e,f){f(b,a.map(d,function(a){return c(a,b)}),e)}),b.on("require",function(a,b,d){d(c(a,b),b)}),c}),define("amd/plugins",["amd/hooks","amd/normalize"],function(a,b){"use strict";var c={},d=/^(.*?)!(.*)/;a.on("require",function(a,e,f){var g,h,i=d.exec(a);i?(g=b(i[1],e),h=i[2],require([g],function(a){var d,i;d=a.normalize?a.normalize(h,function(a){return b(a,e)}):b(h,e),i=g+"!"+d,c[i]||(c[i]=!0,a.load(d,require,function(a){define(i,function(){return a})})),f(i,e)})):f(a,e)})});