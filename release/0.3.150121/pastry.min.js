/*! pastry - v0.3.150121 */
!function(a){"use strict";function b(a,b,c){for(var d in a)b.call(c,a[d],d,a)}if(a=a||{},!a.pastry){var c,d,e={},f=Array,g=Function,h=Object,i=String,j="prototype",k="undefined",l=f[j],m=g[j],n=i[j],o=function(){},p={}.toString,q=l.slice,r=function(a){return q.call(a,1)},s=function(a,b,c){return a.apply(b,r(c))},t=function(a,b){return p.call(b)==="[object "+a+"]"},u=e.isArrayLike=function(a){return"object"==typeof a&&isFinite(a.length)},v=e.isFunction=function(a){return t("Function",a)},w=e.isNumber=function(a){return t("Number",a)},x=e.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},y=e.isPlainObject=function(a){return t("Object",a)},z=e.toArray=function(a){return u(a)?q.call(a):[]};e.index=function(a){return function(b,c,d){var e,f=b.length>>>0;if(0===f)return-1;if(d?0>d&&(d=Math.max(0,b.length+d)):d=a?0:b.length,a){for(e=d;e<b.length;e++)if(b[e]===c)return e}else for(e=d;e>=0;e--)if(b[e]===c)return e;return-1}},e.indexOf=l.indexOf?function(a){return s(l.indexOf,a,arguments)}:e.index(!0),e.lastIndexOf=l.lastIndexOf?function(a){return s(l.lastIndexOf,a,arguments)}:e.index(),c=e.each=e.forEach=l.forEach?function(a,c,d){return u(a)?s(l.forEach,a,arguments):(y(a)&&b(a,c,d),a)}:function(a,c,d){if(u(a))for(var e=a.length,f=0;e>f;f++)f in a&&c.call(d,a[f],f,a);else y(a)&&b(a,c,d);return a},e.eachReverse=function(a,b,c){if(a)for(var d=a.length-1;d>-1;d-=1)b.call(c,a[d],d,a);return a},e.every=l.every?function(a){return s(l.every,a,arguments)}:function(a,b,c){var d;for(d=0;d<a.length;d++)if(!b.call(c,a[d],d,a))return!1;return!0},e.filter=l.filter?function(a){return s(l.filter,a,arguments)}:function(a,b,d){var e=[];return c(a,function(c,f){b.call(d,c,f,a)&&e.push(c)}),e},e.map=l.map?function(a){return s(l.map,a,arguments)}:function(a,b,d){var e=[];return c(a,function(c,f){e.push(b.call(d,c,f,a))}),e},e.some=l.some?function(a){return s(l.some,a,arguments)}:function(a,b,c){var d;for(d=0;d<a.length;d++)if(b.call(c,a[d],d,a))return!0;return!1},e.reduce=l.reduce?function(a){return s(l.reduce,a,arguments)}:function(a,b,c){var d,e;for(c&&(e=c),d=0;d<a.length;d++)e=e?b(e,a[d],d,a):a[d];return e},e.reduceRight=l.reduceRight?function(a){return s(l.reduceRight,a,arguments)}:function(a,b,c){var d,e;for(c&&(e=c),d=a.length-1;d>=0;d--)e=e?b(e,a[d],d,a):a[d];return e},e.trim=n.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s+|\s+$/g,"")},e.trimLeft=n.trimLeft?function(a){return a.trimLeft()}:function(a){return a.replace(/^\s+/g,"")},e.trimRight=n.trimRight?function(a){return a.trimRight()}:function(a){return a.replace(/\s+$/g,"")},e.lc=function(a){return(a+"").toLowerCase()},e.uc=function(a){return(a+"").toUpperCase()},e.hasSubString=function(a,b){return a.indexOf(b)>-1},e.capitalize=function(a){return a+="",a.charAt(0).toUpperCase()+a.substr(1)},c(["Array","Arguments","Boolean","Date","Error","RegExp","String"],function(a){e["is"+a]=function(b){return t(a,b)}}),f.isArray&&(e.isArray=f.isArray),e.isNaN=function(a){return w(a)&&a!==+a},e.isFinite=function(a){return w(a)&&isFinite(a)&&!isNaN(a)},e.isUndefined=function(a){return void 0===a},e.isNull=function(a){return null===a},e.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=new Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e},e.flatten=function(a){for(var b=[],c=0,d=a.length;d>c;++c)u(a[c])?b=b.concat(a[c]):b[b.length]=a[c];return b},e.merge=function(a){return c(r(arguments),function(b){if(b)for(var c in b)p.call(b[c])!==p.call(a[c])?a[c]=b[c]:y(b[c])?(a[c]=a[c]||{},e.merge(a[c],b[c])):a[c]=b[c]}),a},e.extend=function(a){return c(r(arguments),function(b){if(b)for(var c in b)a[c]=b[c]}),a},e.remove=function(a,b,c){var d,e=a.length;return w(b)?(d=a.slice((c||b)+1||e),a.length=0>b?e+b:b,a.push.apply(a,d)):a},e.keys=h.keys?function(a){return h.keys(a)}:function(a){var b=[];return v(a)?c(a,function(a,c){c!==j&&b.push(c)}):c(a,function(a,c){b.push(c)}),b},e.invert=function(a){var b={};return c(a,function(a,c){b[a]=c}),b},e.values=function(a){var b=[];return c(a,function(a){b.push(a)}),b},e.hasKey=function(a,b){return a.hasOwnProperty(b)},d=e.hasValue=function(a,b){return e.indexOf(e.values(a),b)>-1},e.uniq=function(a){var b=[];return c(a,function(a){d(b,a)||b.push(a)}),b},e.union=function(){var a=[],b=z(arguments);return c(b,function(b){a.concat(b)}),e.uniq(a)},e.difference=function(a){var b=e.flatten(r(arguments),!0,!0,[]);return e.filter(a,function(a){return!d(b,a)})},e.intersect=function(a,b){var e=[];return c(a,function(a){d(b,a)&&e.push(a)}),e},e.destroy=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b];a.prototype=a.__proto__=null,a=null},e.clone=function(a){return x(a)?u(a)?z(a):e.extend({},a):a},e.bind=m.bind?function(a){return s(m.bind,a,arguments)}:function(b,c){if(v(c)&&v(b)){var d=z(arguments).slice(2),f=function(){},g=function(){return b.apply(this instanceof f&&c?this:c||a,d.concat(arguments))};return f[e]=b[e],g[e]=new f,g}},c(["info","log","warn"],function(a){e[a.toUpperCase()]=typeof console===k?o:e.bind(console[a],console)}),e.ERROR=function(a){throw e.WARN(a),new Error(a)},e.getAny=function(a){var b,c;for(b=0;b<a.length;b++)try{c=a[b]();break}catch(d){}return c},e.uuid=function(a){return a=a||"",a+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8,d=c.toString(16);return d})},e.mixin=function(a,b){c(a,function(a,c){e[c]&&!b?e.ERROR("pastry."+c+" already exists"):e[c]=a})},e.setGLOBAL=function(b,c){typeof exports!==k&&(exports[b]=c),a[b]=c},c(["P","pastry","PASTRY"],function(a){e.setGLOBAL(a,e)}),typeof exports!==k&&typeof module!==k&&module.exports&&(module.exports=e)}}(this),function(a){"use strict";var b=a.pastry,c=function(a){a=a||this;var c=a._events={};return a.on=function(b,d,e){var f=c[b]||(c[b]=[]);return f.push({callback:d,context:e}),a},a.off=function(b,d){b||(c={});var e=c[b]||[],f=e.length;if(d)for(;f>0;)f--,e[f].callback===d&&e.splice(f,1);else e=[];return a},a.emit=function(){var d=b.toArray(arguments),e=c[d.shift()]||[];return b.each(e,function(a){a.callback||(b.LOG(a,e),b.ERROR("event callback is not defined")),a.callback.apply(a.context,d)}),a},a.trigger=a.emit,a};c(b),b.event=c}(this);var define;!function(a,b){"use strict";if(!define){var c,d=a.pastry,e=d.event,f=function(a){var b=this;return b.initialise(a),b},g=f._data={},h=g.moduleByUri={},i=g.exportsByUri={},j=g.executedByUri={},k=g.queueByUri={};e(f),f.prototype={initialise:function(a){var b,c,e,g=this;return d.extend(g,a),f.emit("module-initialised",g),(c=g.uri)&&(h[c]||(h[c]=g),k[c]||(k[c]=g)),(b=g.id)&&(h[b]||(h[b]=g)),(e=g.relativeUri)&&(h[e]||(h[e]=g),k[e]||(k[g.relativeUri]=g)),g},processDeps:function(){var a=this;return f.emit("module-depsProcessed",a),a},execute:function(){var a=this,c=[];if("exports"in a)return delete k[a.uri],delete k[a.relativeUri],a;if(d.every(a.deps,function(a){return!!j[a]})){var e=a.factory,g=a.uri,h=a.id,l=a.relativeUri;d.each(a.deps,function(a){c.push(i[a])}),a.exports=i[g]=i[h]=i[l]=d.isFunction(e)?e.apply(b,c):e,j[g]=j[h]=j[l]=!0,delete k[g],f.emit("module-executed",a)}return a}},f.on("module-executed",function(){d.each(k,function(a){a instanceof f&&a.execute()})}),define=a.define=f.define=function(){var a,c=d.toArray(arguments),e=d.isString(c[0])?c.shift():b,g=c.length>1?c.shift():[],h=c[0],i={id:e,uri:e,deps:g,factory:h};f.emit("module-metaGot",i),a=new f(i).processDeps().execute(),f.emit("module-defined",a)},define.amd={},c=define,define("Module",function(){return f}),define("pastry",function(){return d}),define("event",function(){return e}),d.setGLOBAL("require",c)}}(this),define("module/path",["pastry","Module"],function(a,b){"use strict";function c(a){return a.match(k)[0]}function d(a){for(a=a.replace(l,"/"),a=a.replace(o,"$1/");a.match(m);)a=a.replace(m,"/");return a}function e(a){var b=a.length-1,c=a.charCodeAt(b);return 35===c?a.substring(0,b):".js"===a.substring(b-2)||a.indexOf("?")>0||47===c?a:a+".js"}function f(b){var c=r.alias;return c&&a.isString(c[b])?c[b]:b}function g(b){var c,d=r.paths;return d&&(c=b.match(p))&&a.isString(d[c[1]])&&(b=d[c[1]]+c[2]),b}function h(a,b){var e,f=a.charCodeAt(0);if(j.test(a))e=a;else if(46===f)e=(b?c(b):r.cwd)+a;else if(47===f){var g=r.cwd.match(q);e=g?g[0]+a.substring(1):a}else e=r.base+a;return 0===e.indexOf("//")&&(e=t.protocol+e),d(e)}function i(a,b){if(!a)return"";a=f(a),a=g(a),a=f(a),a=e(a),a=f(a);var c=h(a,b);return c=f(c)}var j=/^\/\/.|:\//,k=/[^?#]*\//,l=/\/\.\//g,m=/\/[^/]+\/\.\.\//,n=/^(about|blob):/,o=/([^:/])\/+\//g,p=/^([^/:]+)(\/.+)$/,q=/^.*?\/\/.*?\//,r=b._data,s=document,t=location,u=t.href,v=s.scripts,w=s.getElementById("moduleLoader")||v[v.length-1],x=w.hasAttribute?w.src:w.getAttribute("src",4);return r.cwd=!u||n.test(u)?"":c(u),r.path=x,r.dir=r.base=c(x||r.cwd),{id2Uri:i}}),define("module/request",["pastry","Module"],function(a,b){"use strict";function c(c,d,e){function f(b){c.onload=c.onerror=c.onreadystatechange=null,c=null,a.isFunction(d)&&d(b)}var g="onload"in c;g?(c.onload=f,c.onerror=function(){b.emit("error",{uri:e,node:c}),f(!0)}):c.onreadystatechange=function(){/loaded|complete/.test(c.readyState)&&f()}}function d(d,h,i,j){var k=e.createElement("script");if(i){var l=a.isFunction(i)?i(d):i;l&&(k.charset=l)}var m=a.isFunction(j)?j(d):j;m!==!1&&(k.crossorigin=m),c(k,h,d),k.async=!0,k.src=d,b.currentlyAddingScript=k,g?f.insertBefore(k,g):f.appendChild(k),b.currentlyAddingScript=null}var e=document,f=e.head||e.getElementsByTagName("head")[0]||e.documentElement,g=f.getElementsByTagName("base")[0];return d}),define("module/loader",["pastry","Module","module/path","module/request"],function(a,b,c,d){"use strict";function e(){if(b.currentlyAddingScript)return b.currentlyAddingScript.src;if(k.currentScript)return k.currentScript.src;var a;try{throw new Error}catch(c){a=c.stack,!a&&l.opera&&(a=(String(c).match(/of linked script \S+/g)||[]).join(" "))}if(a)return a=a.split(/[@ ]/g).pop(),a="("===a[0]?a.slice(1,-1):a,a.replace(/(:\d+)?:\d+$/i,"");if(f&&"interactive"===f.readyState)return f.src;for(var d,e=k.getElementsByTagName("script"),g=0;d=e[g++];)if("interactive"===d.readyState)return f=d,d.src}var f,g=b._data,h=g.moduleByUri,i=g.executedByUri,j=g.loadingByUri={},k=document,l=window,m=c.id2Uri;b.resolve=m,b.request=d,b.on("module-metaGot",function(b){var c=e();b.uri=c?c:g.cwd,(""===c||a.isString(c)&&c===g.cwd)&&(b.id||(b.uri=g.cwd+("#"+a.uuid())))}).on("module-initialised",function(b){var c;a.isString(b.uri)&&b.uri.indexOf("/")>-1||(c=b.uri=m(b.id)),b.id&&(b.relativeUri=m("./"+b.id,b.uri))}).on("module-depsProcessed",function(b){a.each(b.deps,function(a,c){var e;e=h[a]?a:m(a,b.uri),b.deps[c]=e,h[e]||j[e]||i[e]||(d(e),j[e]=!0)})})}),define("fmt/date",["pastry"],function(a){"use strict";function b(a){return 10>a?"0"+a:a}function c(a){var b=a+"",c=b.length;return 3===c?b:2===c?"0"+b:"00"+b}return function(d,e){return a.isDate(d)?(e=e||"{FullYear}-{Month}-{Date}T{Hours}:{Minutes}:{Seconds}Z",e.replace(/\{(\w+)\}/g,function(a,e){var f="get"+("Year"===e?e:"UTC"+e),g=d[f]()+("Month"===e?1:0);return"Milliseconds"===e?c(g):b(g)})):void a.ERROR("not a Date instance")}}),define("fmt/sprintf",["pastry"],function(a){"use strict";function b(a,b){return parseInt(a,b||10)}var c=/%(\+)?([0 ]|'(.))?(-)?([0-9]+)?(\.([0-9]+))?([%bcdfosxX])/g,d=function(d){a.isString(d)||a.ERROR("sprintf: The first arguments need to be a valid format string.");for(var e,f=[],g=1,h=a.toArray(arguments);e=c.exec(d);)g>=h.length&&"%"!==e[8]&&a.ERROR("sprintf: At least one argument was missing."),f[f.length]={begin:e.index,end:e.index+e[0].length,sign:"+"===e[1],negative:parseFloat(h[g])<0?!0:!1,padding:a.isUndefined(e[2])?" ":"'"===e[2].substring(0,1)?e[3]:e[2],alignLeft:"-"===e[4],width:a.isUndefined(e[5])?!1:e[5],precision:a.isUndefined(e[7])?!1:e[7],type:e[8],data:"%"!==e[8]?String(h[g++]):!1};var i,j,k,l,m="",n=0;for(i=0;i<f.length;i++){switch(m+=d.substring(n,f[i].begin),n=f[i].end,k="",f[i].type){case"%":k="%";break;case"b":k=Math.abs(b(f[i].data)).toString(2);break;case"c":k=String.fromCharCode(Math.abs(b(f[i].data)));break;case"d":k=String(Math.abs(b(f[i].data)));break;case"f":k=f[i].precision===!1?String(Math.abs(parseFloat(f[i].data))):Math.abs(parseFloat(f[i].data)).toFixed(f[i].precision);break;case"o":k=Math.abs(b(f[i].data)).toString(8);break;case"s":k=f[i].data.substring(0,f[i].precision?f[i].precision:f[i].data.length);break;case"x":k=Math.abs(b(f[i].data)).toString(16).toLowerCase();break;case"X":k=Math.abs(b(f[i].data)).toString(16).toUpperCase();break;default:a.ERROR('sprintf: Unknown type "'+f[i].type+'" detected. This should never happen. Maybe the regex is wrong.')}if("%"!==f[i].type){if(f[i].width!==!1&&f[i].width>k.length)for(l=k.length,j=0;j<f[i].width-l;++j)k=f[i].alignLeft===!0?k+f[i].padding:f[i].padding+k;("b"===f[i].type||"d"===f[i].type||"o"===f[i].type||"f"===f[i].type||"x"===f[i].type||"X"===f[i].type)&&(f[i].negative===!0?k="-"+k:f[i].sign===!0&&(k="+"+k)),m+=k}else m+=k}return m+=d.substring(n,d.length)};return a.sprintf=d}),define("fmt/vsprintf",["pastry","fmt/sprintf"],function(a,b){"use strict";var c=function(a,c){return c.unshift(a),b.apply(null,c)};return a.vsprintf=c}),define("fmt/camelCase",["pastry"],function(a){"use strict";function b(b){return b.replace(/^[_.\- ]+/,"").replace(/[_.-](\w|$)/g,function(b,c){return a.uc(c)})}function c(b,c){return c=c||"_",b.replace(/([a-z])([A-Z])/g,function(b,d,e){return d+c+a.lc(e)})}function d(e,f,g){return e&&a.isObject(e)?!e||a.isDate(e)||a.isRegExp(e)?e:a.isArray(e)?a.map(e,function(a){return d(a,f,g)}):a.reduce(a.keys(e),function(a,h){var i=f?c(h,g):b(h);return a[i]=d(e[h],f,g),a},{}):e}return a.camelCase={camelise:function(c){return a.isString(c)?b(c):a.isObject(c)?d(c):c},uncamelise:function(b,e){return a.isString(b)?c(b,e):a.isObject(b)?d(b,!0,e):b}}}),define("json",["pastry","fmt/date"],function(pastry,fmtDate){"use strict";function exportJSON(a){pastry.JSON=a,pastry.setGLOBAL("JSON",a)}if(JSON&&JSON.parse&&JSON.stringify)return exportJSON(JSON),JSON;var D2JSON=Date.prototype.toJSON,isFunction=pastry.isFunction,isString=pastry.isString,isNumber=pastry.isNumber;isFunction(D2JSON)||(pastry.each([String.prototype,Number.prototype,Boolean.prototype],function(a){a.toJSON=function(){return this.valueOf()}}),D2JSON=function(){return isFinite(this.valueOf())?fmtDate(this):null});var undef,escapeString=function(a){return('"'+a.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},shim={parse:function(str,strict){return strict&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str)&&pastry.ERROR("Invalid characters in JSON"),eval("("+str+")")},stringify:function(a,b,c){function d(a,e,f){b&&(a=b(f,a));var g;if(isNumber(a))return isFinite(a)?a+"":"null";if(pastry.isBoolean(a))return a+"";if(null===a)return"null";if(isString(a))return escapeString(a);if(isFunction(a)||!a)return undef;if(isFunction(a.toJSON))return d(a.toJSON(f),e,f);if(pastry.isDate(a))return fmtDate(a);if(a.valueOf()!==a)return d(a.valueOf(),e,f);var h=c?e+c:"",i=c?" ":"",j=c?"\n":"";if(pastry.isArray(a)){var k=a.length,l=[];for(f=0;k>f;f++){var m=a[f];g=d(m,h,f),isString(g)||(g="null"),l.push(j+h+g)}return"["+l.join(",")+j+e+"]"}var n=[];for(f in a){var o;if(a.hasOwnProperty(f)){if(isNumber(f))o='"'+f+'"';else{if(!isString(f))continue;o=escapeString(f)}if(g=d(a[f],h,f),!isString(g))continue;n.push(j+h+o+":"+i+g)}}return"{"+n.join(",")+j+e+"}"}return isString(b)&&(c=b,b=null),d(a,"","")}};return exportJSON(shim),shim}),define("declare/c3mro",["pastry"],function(a){"use strict";function b(a){return a.slice(0)}function c(b,c){var d=!0;return a.some(c,function(a){e(a,b)>0&&(d=!1)}),d&&a.each(c,function(a){0===e(a,b)&&a.shift()}),d}function d(b){for(var d=[],e=0;b.length;){var f=b.shift();f.length&&(c(f[0],b)?(d.push(f.shift()),e=0):(e+=1,e===b.length&&a.ERROR("Bad Linearization")),f.length&&b.push(f))}return d}var e=a.indexOf;return a.mroMerge=function(){var c=a.map(a.toArray(arguments),b);return d(c)}}),define("declare",["pastry","declare/c3mro"],function(a,b){"use strict";return a.declare=function(){var c,d,e="_linearization",f=a.toArray(arguments),g=a.isString(f[0])?f.shift():"",h=f.length>1?f.shift():[],i=f[0]?f.shift():{},j=[],k=function(){},l=!1,m=function(){};for(h=a.isArray(h)?h:[h],a.each(h,function(a){a[e]=a[e]||[a],j.push(a[e])}),j.length&&(j.push(h),j=b.apply(null,j)),d=i.constructor,d!==Object.prototype.constructor&&(l=!0,m=d),m[e]=[m].concat(j),m.parents=j.slice(0),i.constructor=m;c=j.shift();)i=a.extend({},c.prototype,i),k.prototype=i,l||(i.constructor=m),i=new k;return m.className=g,m.prototype=i,m.prototype.constructor=m,m}}),define("color/named",[],function(){"use strict";var a={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return a}),define("Color",["pastry","declare","color/named"],function(a,b,c){"use strict";function d(b,c,d){return b=Number(b),a.isFinite(b)?c>b?c:b>d?d:b:d}function e(a,b,c){0>c&&++c,c>1&&--c;var d=6*c;return 1>d?a+(b-a)*d:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}function f(a,b,c,d){var e,f,g=Math.max(a,b,c),h=Math.min(a,b,c),i=(g+h)/2;if(g===h)e=f=0;else{var j=g-h;switch(f=i>.5?j/(2-g-h):j/(g+h),g){case a:e=(b-c)/j+(c>b?6:0);break;case b:e=(c-a)/j+2;break;case c:e=(a-b)/j+4}e/=6}return[e,f,i,d]}var g,h=a.lc,i=Math.round,j={r:255,g:255,b:255,a:1},k=function(a){var b=this;a&&b.initialise(a)};return a.extend(k,{named:c,makeGrey:function(a,b){return k.fromArray([a,a,a,b])},blendColors:function(b,c,d,e){var f=e||new k;return a.each(["r","g","b","a"],function(a){f[a]=b[a]+(c[a]-b[a])*d,"a"!==a&&(f[a]=Math.round(f[a]))}),f.sanitize()},fromHex:function(b,c){var d=c||new k,e=4===b.length?4:8,f=(1<<e)-1;return b=Number("0x"+b.substr(1)),a.isNaN(b)?null:(a.each(["b","g","r"],function(a){var c=b&f;b>>=e,d[a]=4===e?17*c:c}),d.a=1,d)},fromRgb:function(a,b){var c=h(a).match(/^rgba?\(([\s\.,0-9]+)\)/);return c&&k.fromArray(c[1].split(/\s*,\s*/),b)},fromHsl:function(a,b){var c=h(a).match(/^hsla?\(([\s\.,0-9]+)\)/);if(c){var d=c[2].split(/\s*,\s*/),f=d.length,g=(parseFloat(d[0])%360+360)%360/360,i=parseFloat(d[1])/100,j=parseFloat(d[2])/100,l=.5>=j?j*(i+1):j+i-j*i,m=2*j-l,n=[256*e(m,l,g+1/3),256*e(m,l,g),256*e(m,l,g-1/3),1];return 4===f&&(n[3]=d[3]),k.fromArray(n,b)}},fromArray:function(a,b){var c=b||new k;return c.set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3])),isNaN(c.a)&&(c.a=1),c.sanitize()},fromString:function(a,b){var c=k.named[a];return c&&k.fromHex(c,b)||k.fromRgb(a,b)||k.fromHex(a,b)||k.fromHsl(a,b)}}),g=a.extend(j,{constructor:k,initialise:function(b){var c=this;return a.isString(b)?k.fromString(b,this):a.isArray(b)?k.fromArray(b,this):(c.set(b.r,b.g,b.b,b.a),b instanceof k||c.sanitize()),c},set:function(a,b,c,d){var e=this;return e.r=a,e.g=b,e.b=c,e.a=d,e},sanitize:function(){var a=this;return a.r=i(d(a.r,0,255)),a.g=i(d(a.g,0,255)),a.b=i(d(a.b,0,255)),a.a=d(a.a,0,1),a},toRgba:function(){var a=this;return[a.r,a.g,a.b,a.a]},toHsla:function(){var a=this;return f(a.r,a.g,a.b,a.a)},toHex:function(){var b=this,c=a.map(["r","g","b"],function(a){var c=b[a].toString(16);return c.length<2?"0"+c:c});return"#"+c.join("")},toCss:function(a){var b=this,c=b.r+", "+b.g+", "+b.b;return(a?"rgba("+c+","+b.a:"rgb("+c)+")"},toString:function(){return this.toCss(!0)},toGrey:function(){var a=this,b=i((a.r+a.g+a.b)/3);return k.makeGrey(b,a.a)},destroy:function(){a.destroy(this)}}),a.Color=b("Color",g)}),define("querystring",["pastry"],function(a){"use strict";var b=encodeURIComponent,c=function(a){return decodeURIComponent(a.replace(/\+/g," "))},d={escape:b,unescape:c,parse:function(b,d,e){d=d||"&",e=e||"=";var f,g={},h=b.split(d);return a.each(h,function(a){f=a.split(e),f.length>0&&(g[c(f.shift())]=c(f.join(e)))}),g},stringify:function(c,d){var e=[],f=d&&d.arrayKey?!0:!1;return a.each(c,function(c,d){a.isArray(c)?a.each(c,function(a){e.push(b(f?d+"[]":d)+"="+b(a))}):e.push(b(d)+"="+b(c))}),e.join("&")}};return d}),define("bom/utils",["pastry"],function(a){"use strict";function b(a,b){return parseInt(a,b||10)}function c(a,c,d){a[c]=b(d)}function d(a,b,d){var e=b.match(d);e&&c(a,e[0].match(/\w*/)[0],e[1]||0)}function e(b){if(b){var c=a.lc(b).match(/mac|win|linux|ipad|ipod|iphone|android/);return a.isArray(c)?c[0]:c}}function f(a){return{flash:function(){var c,d=0,e=13;if(a&&a.length)c=a["Shockwave Flash"],c&&c.description&&(d=c.description.match(/\b(\d+)\.\d+\b/)[1]||d);else for(;e--;)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+e),d=e;break}catch(f){}return b(d)}()}}function g(b){if(b){b=a.lc(b);var e,f,g={};return a.each([/msie ([\d.]+)/,/firefox\/([\d.]+)/,/chrome\/([\d.]+)/,/crios\/([\d.]+)/,/opera.([\d.]+)/,/adobeair\/([\d.]+)/],function(a){d(g,b,a)}),g.crios&&(g.chrome=g.crios),f=b.match(/version\/([\d.]+).*safari/),f&&c(g,"safari",f[1]||0),f=b.match(/version\/([\d.]+).*mobile.*safari/),f&&c(g,"mobilesafari",f[1]||0),a.each([/trident\/([\d.]+)/,/gecko\/([\d.]+)/,/applewebkit\/([\d.]+)/,/webkit\/([\d.]+)/,/presto\/([\d.]+)/],function(a){d(g,b,a)}),e=g.msie,6===e?g.trident=4:(7===e||8===e)&&(g.trident=5),g}}var h,i,j=navigator||{},k=j.userAgent,l=j.platform,m=j.plugins,n={};return i=f(m),h=e(l)||e(k)||"unknown",a.extend(n,g(k),i),{host:location.host,platform:e,plugins:i,userAgent:k,versions:n,isWebkit:!!n.webkit,isIE:!!n.msie,isApple:h.mac||h.ipad||h.ipod||h.iphone}}),define("dom/utils",["pastry"],function(a){"use strict";var b=document,c=b.documentElement,d=b.createElement("div");return a.domUtils={hasTextContent:"textContent"in d,hasClassList:"classList"in d,hasDataSet:"dataset"in d,isQuirks:"backcompat"===a.lc(b.compatMode)||5===b.documentMode,testDiv:d,contains:"compareDocumentPosition"in c?function(a,b){return 16===(16&b.compareDocumentPosition(a))}:function(a,d){return d=d===b||d===window?c:d,d!==a&&d.contains(a)},isNode:function(a){var b;return a&&"object"==typeof a&&(b=a.nodeType)&&(1===b||9===b)}}}),define("dom/query",["pastry","dom/utils"],function(a,b){"use strict";function c(a){return a?i(a)?d(a)[0]:!a[q]&&h(a)?a[0]:a:o}function d(b,d){var e,f=c(d);if(!f||!b)return[];if(b===p||j(b))return!d||b!==p&&j(f)&&k(b,f)?[b]:[];if(11===b.nodeType)return a.toArray(b.childNodes);if(b&&h(b))return a.flatten(b);if(i(b)&&(e=r.exec(b))){if(e[1])return[f.getElementById(e[1])];if(e[2])return g(f.getElementsByTagName(e[2]));if(e[3])return g(f.getElementsByClassName(e[3]))}return b&&(b.document||b[q]&&9===b[q])?d?[]:[b]:g(f.querySelectorAll(b))}function e(a,b){return d(a,b)[0]}function f(b,c){if(n)return m.call(b,c);var e,f=b.parentNode;return f||n||(f=document.createDocumentFragment(),f.appendChild(b)),e=d(c,f),a.some(e,function(a){return a===b})}var g=a.toArray,h=a.isArrayLike,i=a.isString,j=b.isNode,k=b.contains,l=b.testDiv,m=l.matches||l.webkitMatchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector,n=m&&m.call(l,"div"),o=document,p=window,q="nodeType",r=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,s={};return a.domQuery=a.extend(s,{all:d,one:e,match:f})}),define("dom/ready",["pastry"],function(a){"use strict";function b(a){for(p=1;a=f.shift();)a()}function c(a){p?a():f.push(a)}var d,e,f=[],g=!1,h=document,i=h.documentElement,j=i.doScroll,k="DOMContentLoaded",l="addEventListener",m="onreadystatechange",n="readyState",o=j?/^loaded|^c/:/^loaded|c/,p=o.test(h[n]);return h[l]&&h[l](k,d=function(){h.removeEventListener(k,d,g),b()},g),j&&h.attachEvent(m,d=function(){/^c/.test(h[n])&&(h.detachEvent(m,d),b())}),a.domReady=e=j?function(a){if(self!==top)c(a);else{try{i.doScroll("left")}catch(b){return setTimeout(function(){e(a)},50)}a()}}:c}),define("dom/construct",["pastry","bom/utils","dom/query"],function(a,b,c){"use strict";function d(a,b){var c=b.parentNode;c&&c.insertBefore(a,b)}function e(a,b){var c=b.parentNode;c&&(c.lastChild===b?c.appendChild(a):c.insertBefore(a,b.nextSibling))}var f,g=window,h=document||g.document,i=c.one,j={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},k=/<\s*([\w\:]+)/,l=h.createElement("div");return a.each(j,function(a,b){a.pre="option"===b?'<select multiple="multiple">':"<"+a.join("><")+">",a.post="</"+a.reverse().join("></")+">"}),f={toDom:function(b){b+="";var c,d,e,f,g=b.match(k),i=g?a.lc(g[1]):"",m=l;if(g&&j[i])for(c=j[i],m.innerHTML=c.pre+b+c.post,d=c.length;d;--d)m=m.firstChild;else m.innerHTML=b;if(1===m.childNodes.length)return m.removeChild(m.firstChild);for(f=h.createDocumentFragment();e=m.firstChild;)f.appendChild(e);return f},place:function(b,c,g){if(c=i(c),a.isString(b)&&(b=/^\s*</.test(b)?f.toDom(b,c.ownerDocument):i(b)),a.isNumber(g)){var h=c.childNodes;!h.length||h.length<=g?c.appendChild(b):d(b,h[0>g?0:g])}else switch(g){case"before":d(b,c);break;case"after":e(b,c);break;case"replace":c.parentNode.replaceChild(b,c);break;case"only":f.empty(c),c.appendChild(b);break;case"first":c.firstChild?d(b,c.firstChild):c.appendChild(b);break;default:c.appendChild(b)}},create:function(b,c,d){return c&&(c=i(c),h=c.ownerDocument),a.isString(b)&&(b=h.createElement(b)),c&&f.place(b,c,d),b},empty:function(a){if(a=i(a),"innerHTML"in a)try{return void(a.innerHTML="")}catch(b){}for(var c;c=a.lastChild;)a.removeChild(c)},destroy:function(a){if(a=i(a)){var c=a.parentNode;a.firstChild&&f.empty(a),c&&(b.isIE&&c.canHaveChildren&&"removeNode"in a?a.removeNode(!1):c.removeChild(a))}}},a.domConstruct=f}),define("dom/class",["pastry","dom/utils","dom/query"],function(a,b,c){"use strict";function d(b){if(a.isString(b)){if(b&&!g.test(b))return k[0]=b,k;var c=b.split(g);return c.length&&!c[0]&&c.shift(),c.length&&!c[c.length-1]&&c.pop(),c}return b?a.filter(b,function(a){return a}):[]}function e(a){return i+a+i}var f,g=/\s+/,h="className",i=" ",j=b.hasClassList,k=[""];return a.domClass=f={contains:function(b,d){return b=c.one(b),d=a.trim(d),j?b.classList.contains(d):e(b[h]).indexOf(e(d))>=0},add:function(b,f){if(b=c.one(b),f=d(f),j)a.each(f,function(a){b.classList.add(a)});else{var g,k,l=b[h];l=l?e(l):i,g=l.length,a.each(f,function(a){a&&l.indexOf(e(a))<0&&(l+=a+i)}),k=l.length,k>g&&(b[h]=l.substr(1,k-2))}},remove:function(b,f){if(b=c.one(b),f=d(f),j)a.each(f,function(a){b.classList.remove(a)});else{var g=e(b[h]);a.each(f,function(a){g=g.replace(e(a),i)}),g=a.trim(g),b[h]!==g&&(b[h]=g)}},clear:function(a){a=c.one(a),a[h]=""},toggle:function(b,e){b=c.one(b),e=d(e),j?a.each(e,function(a){b.classList.toggle(a)}):a.each(e,function(a){f[f.contains(b,a)?"remove":"add"](b,a)})}}}),define("dom/data",["pastry","dom/utils","dom/query"],function(a,b,c){"use strict";var d,e="dataset",f="data-",g=b.hasDataSet;return a.domData=d={get:function(a,b){return a=c.one(a),g?a[e][b]:a[f+b]},set:function(a,b,d){a=c.one(a),g?a[e][b]=d:a[f+b]=d}}}),define("dom/style",["pastry","bom/utils","dom/data","dom/utils","dom/query"],function(a,b,c,d,e){"use strict";function f(a,b){try{return a.filters.item(s)}catch(c){return b?{}:null}}function g(a){return"none"===l.get(a,"display")||d.contains(a.ownerDocument,a)}function h(b,d){var e,f,h=[];return a.each(b,function(a,b){a.style&&(h[b]=c.get(a,"olddisplay"),e=a.style.display,d?(h[b]||"none"!==e||(a.style.display=""),""===a.style.display&&g(a)&&(h[b]=c.set(a,"olddisplay",l.get(a,"display")))):(f=g(a),"none"===e&&f||c.set(a,"olddisplay",f?e:l.get(a,"display"))))}),a.each(b,function(a,b){a.style&&(d&&"none"!==a.style.display&&""!==a.style.display||(a.style.display=d?h[b]||"":"none"))}),b}function i(b,c,d){if(c=a.lc(c),q||p.trident){if("auto"===d){if("height"===c)return b.offsetHeight;if("width"===c)return b.offsetWidth}if("fontweight"===c)switch(d){case 700:return"bold";default:return"normal"}}return c in u||(u[c]=t.test(c)),u[c]?k(b,d):d}var j,k,l,m,n,o=e.one,p=b.versions,q=p.msie||0,r=d.isQuirks,s="DXImageTransform.Microsoft.Alpha",t=/margin|padding|width|height|max|min|offset/,u={left:!0,top:!0},v={cssFloat:1,styleFloat:1,"float":1};return q&&(9>q||10>q&&r)?(m=function(a){try{return f(a).Opacity/100}catch(b){return 1}},n=function(a,b){""===b&&(b=1);var c=100*b,d=1===b;if(d?(a.style.zoom="",f(a)&&(a.style.filter=a.style.filter.replace(new RegExp("\\s*progid:"+s+"\\([^\\)]+?\\)","i"),""))):(a.style.zoom=1,f(a)?f(a,1).Opacity=c:a.style.filter+=" progid:"+s+"(Opacity="+c+")",f(a,1).Enabled=!0),"tr"===a.tagName.toLowerCase())for(var e=a.firstChild;e;e=e.nextSibling)"td"===e.tagName.toLowerCase()&&n(e,b);return b}):(m=function(a){return j(a).opacity},n=function(a,b){return a.style.opacity=b}),j=b.isWebkit?function(a){var b;if(1===a.nodeType){var c,d=a.ownerDocument.defaultView;b=d.getComputedStyle(a,null),!b&&a.style&&(c=a.style.display,a.style.display="",b=d.getComputedStyle(a,null)),a.style.display=c}return b||{}}:q&&9>q||r?function(a){return 1===a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1===a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}},k=q?function(a,b){if(!b)return 0;if("medium"===b)return 4;if(b.slice&&"px"===b.slice(-2))return parseFloat(b);
var c=a.style,d=a.runtimeStyle,e=a.currentStyle,f=c.left,g=d.left;d.left=e.left;try{c.left=b,b=c.pixelLeft}catch(h){b=0}return c.left=f,d.left=g,b}:function(a,b){return parseFloat(b)||0},a.domStyle=l={getComputedStyle:j,toPixel:k,get:function(a,b){var c,d=o(a),e=arguments.length,f="opacity"===b;return 2===e&&f?m(d):(b=v[b]?"cssFloat"in d.style?"cssFloat":"styleFloat":b,c=l.getComputedStyle(d),1===e?c:i(d,b,c[b]||d.style[b]))},set:function(a,b,c){var d=o(a),e=arguments.length,f="opacity"===b;if(b=v[b]?"cssFloat"in d.style?"cssFloat":"styleFloat":b,3===e)return f?n(d,c):d.style[b]=c;for(var g in b)l.set(a,g,b[g]);return l.getComputedStyle(d)},show:function(a){h(e.all(a),!0)},hide:function(a){h(e.all(a),!1)},toggle:function(a){return l.get(a,"opacity")?l.hide(a):l.show(a)}}}),define("dom/attr",["pastry","bom/utils","dom/utils","dom/query","dom/construct","dom/style"],function(a,b,c,d,e,f){"use strict";function g(a,b){var c=a.getAttributeNode&&a.getAttributeNode(b);return!!c&&c.specified}function h(a){for(var b,c="",d=a.childNodes,e=0;b=d[e];e++)8!==b.nodeType&&(c+=1===b.nodeType?h(b):b.nodeValue);return c}function i(a,b){var c=b.toLowerCase(),d=exports.names[c]||b;return"textContent"!==d||r?a[d]:h(a)}function j(a,b,c){var d=arguments.length;if(2===d&&!q(b)){for(var g in b)j(a,g,b[g]);return a}var h=n(b),i=t[h]||b;return"style"!==i||q(c)?"innerHTML"===i?(m&&n(a.tagName)in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(e.empty(a),a.appendChild(e.toDom(c,a.ownerDocument))):a[i]=c,a):"textContent"!==i||r?(a[i]=c,a):(e.empty(a),a.appendChild(a.ownerDocument.createTextNode(c)),a):(f.set(a,c),a)}var k,l=b.versions,m=l.msie||0,n=a.lc,o=a.isBoolean,p=a.isFunction,q=a.isString,r=c.hasTextContent,s=d.one,t={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"},u={innerHTML:1,textContent:1,className:1,htmlFor:!!m,value:1},v={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};return a.domAttr=k={has:function(a,b){var c=n(b);return u[t[c]||b]||g(s(a),v[c]||b)},get:function(b,c){b=s(b);var d,e=n(c),f=t[e]||c,h=u[f],j=b[f];return h&&!a.isUndefined(j)?j:"textContent"===f?i(b,f):"href"!==f&&(o(j)||p(j))?j:(d=v[e]||c,g(b,d)?b.getAttribute(d):null)},set:function(a,b,c){if(a=s(a),2===arguments.length){for(var d in b)k.set(a,d,b[d]);return a}var e=b.toLowerCase(),g=t[e]||b,h=u[g];return"style"===g&&q(c)?(f.set(a,c),a):h||o(c)||p(c)?j(a,b,c):(a.setAttribute(v[e]||b,c),a)},remove:function(a,b){s(a).removeAttribute(v[n(b)]||b)},getNodeProp:function(a,b){a=s(a);var c,d=n(b),e=t[d]||b;return e in a&&"href"!==e?a[e]:(c=v[d]||b,g(a,c)?a.getAttribute(c):null)}}}),define("dom/event",["pastry","dom/query","dom/utils"],function(a,b,c){"use strict";function d(a,c,e){if(a=b.one(a),a.addEventListener)a.addEventListener(c,e,!1);else{e.$$guid||(e.$$guid=d.guid++),a.events||(a.events={});var g=a.events[c];g||(g=a.events[c]={},a["on"+c]&&(g[0]=a["on"+c])),g[e.$$guid]=e,a["on"+c]=f}}function e(a,c,d){var e=d._delegateWrapper;a=b.one(a),a.removeEventListener?(a.removeEventListener(c,d,!1),a.removeEventListener(c,e,!1)):a.events&&a.events[c]&&(delete a.events[c][d.$$guid],delete a.events[c][e.$$guid])}function f(a){var b=!0,c=this;a=a||g((k.parentWindow||l).event);var d=c.events[a.type];for(var e in d)c.$$handleEvent=d[e],c.$$handleEvent(a)===!1&&(b=!1);return b}function g(a){return a.preventDefault=g.preventDefault,a.stopPropagation=g.stopPropagation,a}function h(f,g,h,j,k,l){function m(a){(a.delegateTarget=i(f,a.target,h))&&(l===!0&&e(f,g,m),j.call(f,a))}return a.isFunction(h)?void d(f,g,h):(f=b.one(f),c.isNode(f)||a.ERROR("cannot bind events to non-elements: "+f),j._delegateWrapper=m,d(f,g,m,k||!1),j)}function i(a,c,d){for(;c&&c!==a;){if(b.match(c,d))return c;c=c.parentElement}return null}function j(a,b,c,d,e){h(a,b,c,d,e,!0)}var k=document,l=window;return d.guid=1,g.preventDefault=function(){this.returnValue=!1},g.stopPropagation=function(){this.cancelBubble=!0},a.domEvent={on:h,once:j,off:e}}),define("dom/hotkey",["pastry","bom/utils","dom/class","dom/event"],function(a,b,c,d){"use strict";function e(a){var b=a.which;if("keypress"===a.type){var c=String.fromCharCode(b);return a.shiftKey||(c=L(c)),c}return B[b]?B[b]:C[b]?C[b]:L(String.fromCharCode(b))}function f(a,b){return a.sort().join(",")===b.sort().join(",")}function g(a){a=a||{};var b,c=!1;for(b in H)a[b]?c=!0:H[b]=0;c||(K=!1)}function h(a){return M(["shift","ctrl","alt","meta"],a)>-1}function i(a,b,c,d,e,g){var i,j,k=[],l=c.type;if(!F[a])return[];for("keyup"===l&&h(a)&&(b=[a]),i=0;i<F[a].length;++i)if(j=F[a][i],(d||!j.seq||H[j.seq]===j.level)&&l===j.action&&("keypress"===l&&!c.metaKey&&!c.ctrlKey||f(b,j.modifiers))){var m=!d&&j.combo===e,n=d&&j.seq===d&&j.level===g;(m||n)&&F[a].splice(i,1),k.push(j)}return k}function j(a){var b=[];return N(["shift","alt","ctrl","meta"],function(c){a[c+"Key"]&&b.push(c)}),b}function k(a){return a.preventDefault?void a.preventDefault():void(a.returnValue=!1)}function l(a){return a.stopPropagation?void a.stopPropagation():void(a.cancelBubble=!0)}function m(a,b,c,d){x.stop(b,b.target||b.srcElement,c,d)||a(b,c)===!1&&(k(b),l(b))}function n(a,b,c){var d,e=i(a,b,c),f={},j=0,k=!1;for(d=0;d<e.length;++d)e[d].seq&&(j=Math.max(j,e[d].level));for(d=0;d<e.length;++d)if(e[d].seq){if(e[d].level!==j)continue;k=!0,f[e[d].seq]=1,m(e[d].callback,c,e[d].combo,e[d].seq)}else k||m(e[d].callback,c,e[d].combo);var l="keypress"===c.type&&J;c.type!==K||h(a)||l||g(f),J=k&&"keydown"===c.type}function o(b){a.isNumber(b.which)||(b.which=b.keyCode);var c=e(b);if(c)return"keyup"===b.type&&I===c?void(I=!1):void x.handleKey(c,j(b),b)}function p(){if(!y){y={};for(var a in B)a>95&&112>a||B.hasOwnProperty(a)&&(y[B[a]]=a)}return y}function q(a,b,c){return c||(c=p()[a]?"keydown":"keypress"),"keypress"===c&&b.length&&(c="keydown"),c}function r(a){return"+"===a?["+"]:a.split("+")}function s(a,b){var c,d,e,f=[];for(c=r(a),e=0;e<c.length;++e)d=c[e],E[d]&&(d=E[d]),b&&"keypress"!==b&&D[d]&&(d=D[d],f.push("shift")),h(d)&&f.push(d);return b=q(d,f,b),{key:d,modifiers:f,action:b}}function t(){clearTimeout(z),z=setTimeout(g,1e3)}function u(a,b,c,d){function f(b){return function(){K=b,++H[a],t()}}function h(b){m(c,b,a),"keyup"!==d&&(I=e(b)),setTimeout(g,10)}H[a]=0;for(var i=0;i<b.length;++i){var j=i+1===b.length,k=j?h:f(d||s(b[i+1]).action);v(b[i],k,d,a,i)}}function v(a,b,c,d,e){G[a+":"+c]=b,a=a.replace(/\s+/g," ");var f,g=a.split(" ");return g.length>1?void u(a,g,b,c):(f=s(a,c),F[f.key]=F[f.key]||[],i(f.key,f.modifiers,{type:f.action},d,a,e),void F[f.key][d?"unshift":"push"]({callback:b,modifiers:f.modifiers,action:f.action,seq:d,level:e,combo:a}))}function w(a,b,c){N(a,function(a){v(a,b,c)})}for(var x,y,z,A=document,B={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},C={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},D={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},E={option:"alt",command:"meta","return":"enter",escape:"esc",mod:b.isApple},F={},G={},H={},I=!1,J=!1,K=!1,L=a.lc,M=a.indexOf,N=a.each,O=1;20>O;++O)B[111+O]="f"+O;for(O=0;9>=O;++O)B[O+96]=O;return N(["keypress","keydown","keyup"],function(a){d.on(A,a,o)}),a.hotkey=x={on:function(b,c,d){return b=a.isArray(b)?b:[b],w(b,c,d),this},off:function(a,b){return x.on(a,function(){},b)},trigger:function(a,b){return G[a+":"+b]&&G[a+":"+b]({},a),this},reset:function(){return F={},G={},this},stop:function(a,b){if(c.contains(b,"js-hotkey"))return!1;var d=b.tagName;return M(["INPUT","SELECT","TEXTAREA"],d)>-1||b.isContentEditable},handleKey:n}}),define("io/ajax",["pastry","json","querystring","bom/utils"],function(a,b,c,d){"use strict";function e(){return a.getAny([function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}])}var f=function(f,g){g=g||{};var h=e(),i=g.method?a.uc(g.method):"GET",j=g.type?a.lc(g.type):"xml",k=g.data?c.stringify(g.data):null,l=g.contentType,m=!0,n=g.username,o=g.password;a.each(["abort","error","load","loadend","loadstart","progress","success","timeout"],function(a){g[a]&&(h["on"+a]=g[a])}),h.isSuccess=function(){var a=h.status;return a>=200&&300>a||304===a||!a&&"file:"===location.protocol||!a&&d.versions.safari},h.onreadystatechange=function(){if(4===h.readyState)if(h.isSuccess()){if(g.success){var c=h.responseText;"json"===j&&(c=a.getAny([function(){return b.parse(c)}])||c),h.onsuccess(c)}}else g.error&&h.onerror(h.statusText)},"GET"===i?(k&&(f+=(a.hasSubString(f,"?")?"&":"?")+k),h.open(i,f,m,n,o),h.setRequestHeader("Content-Type",l||"text/plain;charset=UTF-8")):"POST"===i?(h.open(i,f,m,n,o),h.setRequestHeader("Content-Type",l||"application/x-www-form-urlencoded;charset=UTF-8")):h.open(i,f,m,n,o),h.send(k)};return a.ajax=f}),define("html/utils",["pastry"],function(a){"use strict";function b(b){function c(a){return b[a]}var d="(?:"+a.keys(b).join("|")+")",e=new RegExp(d),f=new RegExp(d,"g");return function(a){return a=null===a?"":""+a,e.test(a)?a.replace(f,c):a}}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},d=a.invert(c);return{escape:a.escape=b(c),unescape:a.unescape=b(d)}}),define("template",["pastry","html/utils"],function(a,b){"use strict";function c(b,c,d,e,f,g){return c?{"\n":"\\n","\r":"\\r","	":"\\t"," ":" "}[c]||"\\"+c:d?(e=a.trim(e),"="===d?"'+_e("+e+")+'":"'+("+e+"==null?'':"+e+")+'"):f?"';":g?"_s+='":void 0}var d,e={},f={},g=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g;return a.extend(f,b),a.template=d={helper:f,compile:function(b){return a.isString(b)?e[b]||(e[b]=new Function("obj","helper","ne","var _e=ne?function(s){return s;}:helper.escape,print=function(s,e){_s+=e?(s==null?'':s):_e(s);};obj=obj||{};with(obj){_s='"+b.replace(g,c).replace(/\\n\s*/g,"")+"';}return _s;")):b},render:function(a,b,c){return c=c||{},d.compile(a)(b,d.helper,c.ne)}}}),define("Component",["pastry","declare","dom/construct","dom/query","dom/style"],function(a,b,c,d,e){"use strict";var f=document.body,g=b("Component",[],{initialise:function(b){var c=this;return a.extend(c,{container:null,events:{}},b),c},destroy:function(){var b=this;return c.destroy(b.container),a.destroy(b),b},placeAt:function(a,b){var e,g=this;return a=d.one(a)||f,(e=g.container)&&c.place(e,a,b),g},show:function(){var a,b=this;return(a=b.container)&&e.show(a),b},hide:function(){var a,b=this;return(a=b.container)&&e.hide(a),b}});return a.Component=g}),define("ui/notify/template/wrapper",["pastry","html/utils"],function(helper){return function(obj,ne){var _e=ne?function(a){return a}:helper.escape;with(obj=obj||{})_s='<div class="notify-wrapper" id="'+_e(id)+'"></div>';return _s}}),define("ui/notify/template/message",["pastry","html/utils"],function(helper){return function(obj,ne){var _e=ne?function(a){return a}:helper.escape;with(obj=obj||{})_s='<div class="notify-message notify-message-'+_e(type)+'" id="'+_e(id)+'"><div class="notify-message-inner"><div class="notify-icon notify-icon-'+_e(type)+'">',"info"===type&&(_s+='<span class="icon icon-info-o"></span>'),_s+="","error"===type&&(_s+='<span class="icon icon-close-o"></span>'),_s+="","warning"===type&&(_s+='<span class="icon icon-warning-o"></span>'),_s+="","success"===type&&(_s+='<span class="icon icon-ok-o"></span>'),_s+='</div><div class="notify-text"> '+_e(text)+" </div></div></div>";return _s}}),define("ui/Notify",["pastry","declare","Component","dom/construct","dom/event","ui/notify/template/wrapper","ui/notify/template/message"],function(a,b,c,d,e,f,g){"use strict";var h="__notify__",i="__notify_message__",j={type:"info",text:"message",maxCount:10,lifetime:5e3},k=b("Notify",[c],{constructor:function(b){var c=this;return b=b||{},a.extend(c,{id:a.uuid(h),message:{},messageCount:0,messageQueue:[],status:{},option:j},b),b.container=b.container||d.toDom(f({id:c.id})),c.initialise(b),c.placeAt(),c},_initMessage:function(b){var c=this,f=a.extend({},b,{domNode:d.toDom(g(b))});return e.on(f.domNode,"click",function(){c._hideById(f.id)}),f},_showById:function(b){var c=this,e=c.message[b];return e&&(d.place(e.domNode,c.container,"first"),c.messageCount++,a.isFunction(e.onShow)&&e.onShow(),e.timeout=setTimeout(function(){c.message[e.id]&&c._hideById(e.id)},e.lifetime?e.lifetime:c.option.lifetime)),c},_hideById:function(b){var e=this,f=e.message[b];return f&&(d.destroy(f.domNode),e.messageCount--,clearTimeout(f.timeout),e._showNext(),a.isFunction(f.onHide)&&f.onHide(),c.prototype.destroy.apply(f),delete e.message[b]),e},_showNext:function(){var a=this,b=a.messageQueue.pop();return b&&a._showById(b),a},config:function(b){var c=this;return a.extend(c.option,b),c},log:function(b){var c,d=this,e=b.id||a.uuid(i);b=a.extend({id:e},d.option,b),d.message[e]=c=d._initMessage(b),d.messageCount>=d.option.maxCount?d.messageQueue.push(e):d._showById(e)}});return a.Notify=k}),define("ui/collapse/template/wrapper",["pastry","html/utils"],function(helper){return function(obj,ne){var _e=ne?function(a){return a}:helper.escape;with(obj=obj||{})_s='<div class="panel-group" id="'+_e(id)+'"></div>';return _s}}),define("ui/collapse/template/section",["pastry","html/utils"],function(helper){return function(obj,ne){var _e=ne?function(a){return a}:helper.escape;with(obj=obj||{})_s='<div class="panel panel-default"><div class="panel-heading"><h4 class="panel-title"><a data-toggle="collapse">'+_e(head)+'</a></h4></div><div class="panel-collapse collapse"><div class="panel-body">'+_e(body)+"</div></div></div>";return _s}}),define("ui/Collapse",["pastry","declare","Component","dom/class","dom/construct","dom/event","dom/query","dom/utils","ui/collapse/template/wrapper","ui/collapse/template/section"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(b,c){a.isFunction(b)&&b.call(null,c)}var l="__collapse__",m="__collapse.section__",n=b("ui/collapse/Section",[c],{constructor:function(b){var c=this;return a.extend(c,{isOpen:!1},b),f.on(c.head,"click",function(){c._onClick()}),c.isOpen?c.open():c.close()},_onClick:function(){var a=this;return k(a.onClick,a),a},open:function(){var a=this;return a.isOpen=!0,d.add(a.body,"in"),a},close:function(){var a=this;return a.isOpen=!1,d.remove(a.body,"in"),a},toggle:function(){var a=this;return d.toggle(a.body,"in"),a},destroy:function(){var a=this;return e.destroy(a.head),e.destroy(a.body),c.prototype.destroy.call(a),a}}),o=b("ui/Collapse",[c],{constructor:function(b,c){var d=this;return c=c||{},h.isNode(b)?c.container=b:c=b,a.extend(d,{isAccordion:!0,_sections:{}},c),d.id=d.id||a.uuid(l),d.container?d.id=d.container.id||d.id:d.container=e.toDom(i(d)),a.each(g.all(".panel",d.container),function(a){d.addSection(a)}),a.isArray(d.sections)&&a.each(d.sections,function(a){d.addSection(a)}),d},eachSection:function(b){var c=this;return a.each(c._sections,function(a){k(b,a)}),c},addSection:function(b){var c,d,f,i,l=this;return b instanceof n?(l._sections[b.id]=b,l):(h.isNode(b)||a.isString(b)?(c=g.one(b),b={container:c}):b.head&&a.isString(b.head)?(c=e.toDom(j(b)),a.extend(b,{container:c})):b.container&&(c=b.container),b.id||(b.id=c.id||a.uuid(m)),d=b.id,a.extend(b,{head:g.one(".panel-title [data-toggle=collapse]",c),body:g.one(".panel-collapse.collapse",c)}),i=b.onClick,b.onClick=function(a){k(i,a),l.toggleSection(a.id)},f=new n(b),l._sections[d]=f,h.contains(f.container,l.container)||f.placeAt(l.container),l)},removeSection:function(a){var b=this;return b._sections[a].destroy(),delete b._sections[a],b},openSection:function(a){var b=this,c=b._sections[a];return b.isAccordion&&b.eachSection(function(a){a.close()}),c.open(),b},closeSection:function(a){var b=this;return b._sections[a].close(),b},toggleSection:function(a){var b=this,c=b._sections[a];return c.isOpen?b.closeSection(a):b.openSection(a)},destroy:function(){var a=this;a.eachSection(function(a){a.destroy()}),c.prototype.destroy.call(a),a=null}});return o.Section=n,o.render=function(a,b){return a=g.one(a),new o(a,b)},a.Collapse=o}),define("ui/tree/template/wrapper",["pastry","html/utils"],function(helper){return function(obj,ne){var _e=ne?function(a){return a}:helper.escape;with(obj=obj||{})_s='<table class="tree-wrapper table table-hover" id="'+_e(id)+'">',hasHead&&(_s+="<thead><tr><th>"+_e(treeColumnName)+"</th>",helper.each(extraColumns,function(a){_s+="<th>"+_e(a.label)+"</th>"}),_s+="</tr></thead>"),_s+="<tbody></tbody></table>";return _s}}),define("ui/tree/template/node",["pastry","html/utils"],function(helper){return function(obj,ne){var _e=ne?function(a){return a}:helper.escape;with(obj=obj||{})_s='<tr class="tree-node ',isSelected&&(_s+="selected"),_s+='" data-id="'+_e(id)+'"><td><span class="tree-node-indenter" style="margin-left: '+_e(indent)+'px;">',isBranch&&(_s+='<span class="tree-node-expander icon '+_e(expanderIconClass)+'" data-id="'+_e(id)+'"></span>'),_s+="</span>",hasCheckbox&&(_s+='<label class="tree-node-checkbox checkbox-inline"><input type="checkbox" value="'+_e(id)+'"></label>'),_s+='<span class="tree-node-icon icon '+_e(iconClass)+'"></span><span class="tree-node-label">'+_e(label)+"</span></td>",extraColumns&&(_s+="",helper.each(extraColumns,function(a){_s+="<td>"+_e(obj[a.key])+"</td>"}),_s+=""),_s+="</tr>";return _s}}),define("ui/tree/node/event",["event"],function(a){"use strict";return function(b){return a(b),b.on("clicked",function(){b.onClicked()}),b.on("collapsed",function(){b.onCollapsed()}),b.on("contextmenu",function(){b.onContextmenu()}),b.on("dblclicked",function(){b.onDblclicked()}),b.on("expanded",function(){b.onExpanded()}),b.on("selected",function(){b.onSelected()}),b}}),define("ui/tree/event",["event","dom/data","dom/event"],function(a,b,c){"use strict";function d(a,c){return c.nodeById[b.get(a.delegateTarget,"id")]}return function(b){var e=b.container;return a(b),b.on("node-clicked",function(a){b.onNodeClicked(a)}),b.on("node-collapsed",function(a){b.onNodeCollapsed(a)}),b.on("node-contextmenu",function(a){b.onNodeContextmenu(a)}),b.on("node-dblclicked",function(a){b.onNodeDblclicked(a)}),b.on("node-expanded",function(a){b.onNodeExpanded(a)}),b.on("node-selected",function(a){b.onNodeSelected(a)}),c.on(e,"click",".tree-node-expander",function(a){d(a,b).toggle()}),c.on(e,"click",".tree-node",function(a){var c=d(a,b);c.trigger("clicked"),b.trigger("node-clicked",c)}),c.on(e,"contextmenu",".tree-node",function(a){var c=d(a,b);a.preventDefault(),c.trigger("contextmenu"),b.trigger("node-contextmenu",c)}),c.on(e,"dblclick",".tree-node",function(a){var c=d(a,b);c.trigger("dblclicked"),b.trigger("node-dblclicked",c)}),c.on(e,"mousedown",".tree-node",function(a){var c=d(a,b);c.select(),c.trigger("selected"),b.trigger("node-selected",c)}),b}}),define("ui/tree/Node",["pastry","declare","event","Component","dom/class","dom/construct","dom/query","dom/style","ui/tree/node/event","ui/tree/template/node"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=16,l="selected",m="icon-folder",n="icon-folder-open",o="icon-file",p="icon-arrow-right",q="icon-arrow-down",r=a.extend,s=a.indexOf,t=a.remove,u=a.each,v=a.every,w=b("ui/tree/Node",[d],{constructor:function(a){if(a instanceof w)return a;var b=this;return r(b,{isRoot:!1,isBranch:!1,isLeaf:!0,isExpanded:!0,isExpandable:!1,isSelected:!1,isFocused:!1,isLoaded:!1,container:null,indenterElement:null,expanderElement:null,labelElement:null,iconElement:null,children:[],parent:null},a),i(b),b},hasCheckbox:!1,id:null,label:null,indent:0,parentId:null,iconClass:null,expanderIconClass:null,_setLabel:function(){var a,b=this;return a=b.getLabel?b.getLabel():b.tree.getLabel?b.tree.getLabel(b):b.label||b.name||"",b.label=a,b.labelElement&&(b.labelElement.innerHTML=a),b},_setIconClass:function(){var a,b=this;return a=b.getIconClass?b.getIconClass():b.tree.getIconClass?b.tree.getIconClass(b):b.isBranch?b.isExpanded?n:m:o,b.iconClass=a,b.iconElement&&(e.clear(b.iconElement),e.add(b.iconElement,"tree-node-icon icon "+a)),b},_setSelectedClass:function(){var a=this,b=a.container;return b&&e[a.isSelected?"add":"remove"](b,l),a},_setExpanderIconClass:function(){var a,b=this;return b.isExpandable&&(a=b.getExpanderIconClass?b.getExpanderIconClass():b.tree.getExpanderIconClass?b.tree.getExpanderIconClass(b):b.isExpanded?q:p,b.expanderIconClass=a,b.expanderElement&&(e.clear(b.expanderElement),e.add(b.expanderElement,"tree-node-expander icon "+a))),b},_setIndent:function(){var a,b=this;return a=k*b.getLevel(),b.indent=a,b.indenterElement&&h.set(b.indenterElement,"margin-left",a+"px"),b},_setLoaded:function(){var a=this;a.isLoaded=!0,a.eachChild(function(a){a.load()})},_setSelected:function(){var a=this,b=a.tree,c=b.selectedNode;return a.isSelected=!0,c&&(c.isSelected=!1,c._updateLayout()),b.selectedNode=a,a._updateLayout()},_reload:function(){var a=this;a.eachChild(function(a){a.reload()})},_updateLayout:function(){return this._setLabel()._setIconClass()._setSelectedClass()._setExpanderIconClass()._setIndent()},_canMoveTo:function(a){var b=this;return a.id===b.id||a.isLeaf||s(b.children,a)>-1||s(a.getAncestors(),b)>-1?!1:!0},_isAncestorsExpanded:function(){return v(this.getAncestors(),function(a){return a.isExpanded})},addChild:function(a){var b=this;return-1===s(b.children,a)&&b.children.push(a),a.isRoot=!1,a.parentId=b.id,a.parent=b,a.isLoaded&&(a.reload(),a._isAncestorsExpanded()?a.show():a.hide()),b},removeChild:function(a){var b,c=this;return-1!==(b=s(c.children,a))&&(t(c.children,b),a.isLoaded&&c.isExpanded&&a.hide()),c},moveTo:function(a){var b=this;return b._canMoveTo(a)&&(b.parent&&b.parent.removeChild(b),a.addChild(b)),b},eachChild:function(a){var b=this;return u(b.children,function(b){a(b)}),b},getParent:function(){var a=this,b=a.parentId;return a.parent?a.parent:"undefined"!=typeof b?a.tree.nodeById[b]:null},getAncestors:function(){for(var a=this,b=[];a=a.getParent();)b.push(a);return b},getLevel:function(){return this.getAncestors().length},select:function(){return this._setSelected()},show:function(){var a=this;return d.prototype.show.apply(a),a.isExpanded&&a.eachChild(function(a){a.show()}),a},hide:function(){var a=this;return d.prototype.hide.apply(a),a.isExpanded&&a.eachChild(function(a){a.hide()}),a},expand:function(){var a=this;return a.isExpanded=!0,a.eachChild(function(a){a.show()}),a._updateLayout(),a.trigger("expanded"),a.tree.trigger("node-expanded",a),a},collapse:function(){var a=this;return a.isExpanded=!1,a.eachChild(function(a){a.hide()}),a._updateLayout()},toggle:function(){var a=this;return a.isExpanded?a.collapse():a.expand()},render:function(){var a,b=this;return b.parent||(b.isRoot=!0),b.children.length&&(b.isBranch=!0,b.isLeaf=!1),b.isExpandable=b.isBranch,a=b.container=b.container||f.toDom(j(b,!0)),b.indenterElement=b.indenterElement||g.one(".tree-node-indenter",a),b.expanderElement=b.expanderElement||g.one(".tree-node-expander",a),b.labelElement=b.labelElement||g.one(".tree-node-label",a),b.iconElement=b.iconElement||g.one(".tree-node-icon",a),b._updateLayout(),b._isAncestorsExpanded()||b.hide(),b},load:function(){var a=this;return a.isLoaded||(a.isRoot?(a.placeAt(a.tree.bodyElement,"first"),a._setLoaded()):a.parent.isLoaded&&(a.placeAt(a.parent.container,"after"),a._setLoaded())),a},reload:function(){var a=this;return a.isLoaded?(a._updateLayout(),a.isRoot?(a.placeAt(a.tree.bodyElement,"first"),a._reload()):a.parent.isLoaded&&(a.placeAt(a.parent.container,"after"),a._reload())):a.load(),a},update:function(a){return r(this,a).render()},onClicked:function(){},onCollapsed:function(){},onContextmenu:function(){},onDblclicked:function(){},onExpanded:function(){},onSelected:function(){}});return w}),define("ui/Tree",["pastry","declare","Component","dom/construct","dom/query","ui/tree/Node","ui/tree/event","ui/tree/template/wrapper"],function(a,b,c,d,e,f,g,h){"use strict";function i(b,c){return a.every(c,function(a,c){return b[c]===a})}var j="__tree__",k="__tree_node__",l=a.isArray,m=a.indexOf,n=a.remove,o=a.each,p=a.extend,q=a.uuid,r=b("ui/Tree",[c],{constructor:function(a){a=a||{};var b,c=this;return p(c,{id:q(j),data:[],nodes:[],nodeById:{},container:null,headElement:null,bodyElement:null,selectedNode:null},a),a.container&&(c.container=e.one(a.container)),c.container||(c.container=d.toDom(h(c))),b=c.container,c.hasHead&&(c.headElement=e.one("thead",b)),c.bodyElement=e.one("tbody",b),c.addNodes(c.data),delete c.data,g(c),c},hasHead:!1,treeColumnName:"tree",extraColumns:[],_processData:function(a){var b=this;return o(a,function(a){var c=a.id;p(a,{extraColumns:b.extraColumns,tree:b}),"undefined"==typeof a.id&&(c=a.id=q(k)),b.nodeById[c]||(b.nodeById[a.id]=a)}),b},_processNodes:function(b){var c,d,e=this;return o(b,function(b){d=b.getParent(),null!==b.parentId&&(d?(b.parent=d,d.addChild(b)):a.ERROR("node with id "+c+" does not exists"))}),e},addNodes:function(a){var b=this,c=[];return a=a||[],l(a)||(a=[a]),b._processData(a),o(a,function(a){var d=a.id,e=b.nodeById[d];e instanceof f||(a=new f(a),b.nodes.push(a),c.push(a),b.nodeById[a.id]=a)}),b._processNodes(c),b.eachNode(function(a){a.render()}),b.eachNode(function(a){a.load()}),b},addNode:function(a){return this.addNodes([a])},removeNodes:function(a){var b,c=this;return l(a)||(a=[a]),c.eachNode(a,function(a){var d=m(c.nodes,a);d>-1&&n(c.nodes,d),delete c.nodeById[a.id],(b=a.parent)&&b.removeChild(a),a.eachChild(function(a){a.destroy()}),a.destroy()}),c},queryNodes:function(b){var c=this;return l(b)?b:a.isPlainObject(b)?a.filter(c.nodes,function(a){return i(a,b)}):void 0},eachNode:function(b,c){var d=this,e=[];return a.isFunction(b)?(e=d.nodes,c=b):e=d.queryNodes(b),o(e,function(a){c(a)}),d},expandNodes:function(){},onNodeClicked:function(){},onNodeContextmenu:function(){},onNodeDblclicked:function(){},onNodeExpanded:function(){},onNodeRightClicked:function(){},onNodeSelected:function(){}});return r.Node=f,a.Tree=r}),define("ui/tooltip/template/wrapper",["pastry","html/utils"],function(helper){return function(obj,ne){var _e=ne?function(a){return a}:helper.escape;with(obj=obj||{})_s='<div class="tooltip" id="'+_e(id)+'"><div class="tooltip-arrow"></div><div class="tooltip-body"></div></div>';return _s}}),define("ui/Tooltip",["pastry","declare","Component","dom/class","dom/construct","dom/query","dom/style","ui/tooltip/template/wrapper"],function(a,b,c,d,e,f,g,h){"use strict";var i="__tooltip__",j=a.extend,k=a.each,l=document.body,m=b("ui/Tooltip",[c],{constructor:function(b){b=b||{};var c,d=this;return d.option=j({gravity:"n",html:!1,offset:6},b),d.id=b.id||a.uuid(i),c=d.container=e.toDom(h(d)),d.placeAt(l),d.wrapArrow=f.one(".tooltip-arrow",c),d.wrapBody=f.one(".tooltip-body",c),d.hide(),d.isShown=!1,d},show:function(a,b,f){var h,i,m,n=this,o=n.container,p=n.wrapArrow,q=n.wrapBody,r=j({},n.option,f),s=r.gravity;if(a&&""!==a&&(q.innerHTML="",r.html?(h=e.toDom(a),e.place(h,q,"only")):q.innerHTML=a),d.clear(p),d.add(p,"tooltip-arrow tooltip-arrow-"+s.charAt(0)),d.clear(o),d.add(o,"tooltip tooltip-"+s),r.className&&d.add(o,"tooltip-"+r.className),c.prototype.show.call(n),n.isShown=!0,i=j({},b.getBoundingClientRect(),{width:b.offsetWidth,height:b.offsetHeight}),"object"==typeof b.nearestViewportElement){var t=b.getBoundingClientRect();i.width=t.width,i.height=t.height}switch(m={width:q.offsetWidth,height:q.offsetHeight},r.offset=r.offset||0,s.charAt(0)){case"n":m={top:i.top+i.height+r.offset,left:i.left+i.width/2-m.width/2};break;case"s":m={top:i.top-m.height-r.offset,left:i.left+i.width/2-m.width/2};break;case"e":m={top:i.top+i.height/2-m.height/2,left:i.left-m.width-r.offset};break;case"w":m={top:i.top+i.height/2-m.height/2,left:i.left+i.width+r.offset}}return m.top+=l.scrollTop,m.left+=l.scrollLeft,2===s.length&&(m.left="w"===s.charAt(1)?i.left+i.width/2-15:i.left+i.width/2-m.width+15),k(m,function(a,b){g.set(o,b,a+"px")}),n},hide:function(){var a=this;return a.isShown=!1,c.prototype.hide.call(a)}});return a.Tooltip=m});